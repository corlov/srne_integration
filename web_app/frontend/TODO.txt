
1) Служебные миросервисы 
    *) Сервис работы с ГПИО портами
        - Из питона получать сигнал с ГПИО о том что нужно включить WIFI и уметь включать  выключать его
        Реалзовать как микросервис
        - Сервис отключения модема - управление ключами по гпио

    *) Сервис точного времени 
        - просмотр и установка времени RTC АК; получит от фронтенда команду (через рест) в какое значение установить время)
        - установка адреса NTP сервер и нужно ли нет его использовать
    



2) Микрофронтэнд
    *) отображение на веб интерфейсе
        брать это можно с рестового апи локально

        3.8.1 напряжение панели (В) - /0107H/;
        3.8.2 напряжение АКБ (В) - /0101H /;
        3.8.3 уровень заряда АКБ (%) - /0100H /;
        3.8.3 ток светильника (А) - /0105H/;
        3.8.4 энергия потребленная светильником за сутки (Вт*ч) - /0114H/;
        3.8.5 состояние зарядка АКБ (вкт/откл) - /0120H low byte = 0 - есть нет заряда, иначе есть заряд/
        3.8.6 состояние светильника (вкт/откл) - /если (0120H b7=1) И ключ К3 включен, то светильник включен, иначе отключен/;
        3.8.7 температура контроллера (С) - /0103H/;

    *) задание пользователем и отображение на веб интерфейсе периодичности записи в журнал параметров работы от 1 до 60 минут (1 минута по умолчанию); 
        (допустим это может только админ)

    *) авторизация по логину и паролю на фронтенде (минимум две роли)

    *) отображение: внутренние ошибки контроллера АК;
            3.10.2 наличие связи с контроллером СП;
            3.10.3 наличие связи с модемом;
            3.10.4 внутренние ошибки контроллера СП (код ошибки E1.... с расшифровкой);
        3.10.5 режим работы светильника /E01DH/:
        3.10.6 ручное управление светильником:
        - "работа в режиме" (3.10.5) - ключ К3 вкл;
        - "вкл" осуществляется переход в режим 15 /E01DH/ и включение светильника /010AH/, ключ К3 включен; после выбора "работа в режиме" осуществляется установка выбранного режима 3.10.5;
        - "откл" осуществляется переход в режим 15 /E01DH/ и отключение светильника /010AH/, ключ К3 отключен; после выбора "работа в режиме" осуществляется установка выбранного режима 3.10.5;
        3.10.7 режимы работы светофора Т.7:
            - режим 1: мигание с параметрами частота 1Гц, время свечения 500мс (управляем с Репки через К2?)Да;
            - режим 2:  мигание с параметрами: частота 1Гц, время свечения 100мс;
            - режим 3:- автоматическое изменение мигания осуществляется по алгоритму: 		Это Алгоритм? Да.: при напряжении на АКБ более 11.2В режим 1, при снижении напряжения до 10.8В - режим 2;
        - режим 4: светофор отключен.
        3.10.8 состояние кнопки Wi-Fi;
        3.10.9 состояние концевого выключателя двери шкафа автоматики.
        3.10.10 тип аккумулятора: ВРЛА, гелиевый, свинцово-кислотный, литиевый /E004H/.

    *) просмотр, очистка и экспорт в файл электронной таблицы журналов параметров и журналов событий; - это обращение к БД, видимо доработать рест-апи

    *) сохранение настроек в файл и загрузка из файла;
        4.6 отображение версии ПО контроллера АК и контроллера СП ;
        4.7 задание периодичности  выхода на связь с ИТС от 0 до 240 минут; при установке 0 минут связь поддерживается постоянно;
        4.8 задание возможности отключения модема после сеанса связи и времени, через которое осуществляется отключение (от 2 до 240 минут); отключение осуществляется посредством отключения питания модема ключом К4.



------------------------------------------------------------------------------------
    *) авторизация по логину и паролю на фронтенде (минимум две роли)
        *) бекенд-часть
        *) после авторизации выдается страница содержащая текущее состояние АК
        *) оживить страницу - инфу брать по апи с рестового сервиса с самого устройства же
        *) проверять при запросе авторизацию бекендом и еще находясь в реакт приложении помнить что авторизовались чтобы не переспрашивать пароль при обновлении страницы
                как то на 5 минту запомниать что авторизовались и требовать повторную потом

        нужно если в редуксе есть инфа о токене не показывать более страницу логина а сразу выдавать страницу нужную


        Предложения:
            *) SSE вместо того чтобы раз в секунду опрашивать АПИ? м.б. так будет эфективнее?

            *) делать заглушки для остальных функций, две роли и разный интерфейс в зависимости от них
            
            *) 
                3.10.2 наличие связи с контроллером СП;
                3.10.4 внутренние ошибки контроллера СП (код ошибки E1.... с расшифровкой);



1) ид = 2 при получении статуса при событиях сделать динамическим параметром
2) сделать в бекенде авторизацию прямо в том что на репке работает
3) продолжить разработку на локальной машине, при этом к бекенду можно обращаться на репке







